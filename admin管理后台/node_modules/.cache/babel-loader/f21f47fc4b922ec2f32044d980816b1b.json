{"remainingRequest":"E:\\案例\\admin管理后台\\node_modules\\babel-loader\\lib\\index.js!E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\案例\\admin管理后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\案例\\admin管理后台\\src\\layout\\components\\Sidebar\\TopMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\案例\\admin管理后台\\src\\layout\\components\\Sidebar\\TopMenu.vue","mtime":1676374221492},{"path":"E:\\案例\\admin管理后台\\babel.config.js","mtime":1676374221456},{"path":"E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676374333431},{"path":"E:\\案例\\admin管理后台\\node_modules\\babel-loader\\lib\\index.js","mtime":1676374335168},{"path":"E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676374333431},{"path":"E:\\案例\\admin管理后台\\node_modules\\vue-loader\\lib\\index.js","mtime":1676374335765}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU2ODQ4XHU0RjhCL2FkbWluXHU3QkExXHU3NDA2XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnOwppbXBvcnQgeyBpc0V4dGVybmFsIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmltcG9ydCBJdGVtIGZyb20gJy4vSXRlbSc7CmltcG9ydCBfdmFyaWFibGVzIGZyb20gJ0Avc3R5bGVzL3ZhcmlhYmxlcy5zY3NzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEl0ZW06IEl0ZW0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsncGVybWlzc2lvbl9yb3V0ZXMnLCAnc2lkZWJhciddKSksIHt9LCB7CiAgICBhY3RpdmVNZW51OiBmdW5jdGlvbiBhY3RpdmVNZW51KCkgewogICAgICB2YXIgcm91dGUgPSB0aGlzLiRyb3V0ZTsKICAgICAgdmFyIG1ldGEgPSByb3V0ZS5tZXRhLAogICAgICAgIG1hdGNoZWQgPSByb3V0ZS5tYXRjaGVkOwogICAgICBpZiAobWV0YS5hY3RpdmVNZW51KSB7CiAgICAgICAgcmV0dXJuIG1ldGEuYWN0aXZlTWVudTsKICAgICAgfQogICAgICBzdG9yZS5kaXNwYXRjaCgncGVybWlzc2lvbi9jaGFuZ2VTZWNvbmRSb3V0ZXMnLCBtYXRjaGVkWzBdKTsKICAgICAgcmV0dXJuIG1hdGNoZWRbMF0ucGF0aCB8fCAnLyc7CiAgICB9LAogICAgc2hvd0xvZ286IGZ1bmN0aW9uIHNob3dMb2dvKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3Muc2lkZWJhckxvZ287CiAgICB9LAogICAgdmFyaWFibGVzOiBmdW5jdGlvbiB2YXJpYWJsZXMoKSB7CiAgICAgIHJldHVybiBfdmFyaWFibGVzOwogICAgfSwKICAgIGlzQ29sbGFwc2U6IGZ1bmN0aW9uIGlzQ29sbGFwc2UoKSB7CiAgICAgIHJldHVybiAhdGhpcy5zaWRlYmFyLm9wZW5lZDsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBnZXRGaXJzdFNob3dpbmdDaGlsZDogZnVuY3Rpb24gZ2V0Rmlyc3RTaG93aW5nQ2hpbGQoKSB7CiAgICAgIHZhciBjaGlsZHJlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHNob3dpbmcgPSB0cnVlOwogICAgICBpZiAocGFyZW50LmhpZGRlbiB8fCB0eXBlb2YgcGFyZW50LnBhdGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwYXJlbnQucmVkaXJlY3QgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgc2hvd2luZyA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICghY2hpbGRyZW4pIHsKICAgICAgICByZXR1cm4gc2hvd2luZzsKICAgICAgfQogICAgICB2YXIgc2hvd2luZ0NoaWxkcmVuID0gY2hpbGRyZW4uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhaXRlbS5oaWRkZW4gJiYgaXRlbS5wYXRoOwogICAgICB9KTsKICAgICAgaWYgKHR5cGVvZiBzaG93aW5nQ2hpbGRyZW4gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaWYgKHNob3dpbmdDaGlsZHJlbi5wYXRoICYmIHBhcmVudC5hbHdheXNTaG93ICYmICFwYXJlbnQucmVkaXJlY3QpIHsKICAgICAgICAgIHBhcmVudC5yZWRpcmVjdCA9IHNob3dpbmdDaGlsZHJlbi5wYXRoOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHBhcmVudC5tZXRhID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2hvd2luZ0NoaWxkcmVuLm1ldGEgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICBwYXJlbnQubWV0YSA9IHNob3dpbmdDaGlsZHJlbi5tZXRhOwogICAgICAgIH0KICAgICAgICBzaG93aW5nID0gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gc2hvd2luZzsKICAgIH0sCiAgICByZXNvbHZlUGF0aDogZnVuY3Rpb24gcmVzb2x2ZVBhdGgocm91dGUpIHsKICAgICAgaWYgKGlzRXh0ZXJuYWwocm91dGUucGF0aCkpIHsKICAgICAgICByZXR1cm4gcm91dGUucGF0aDsKICAgICAgfQogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5yZWRpcmVjdCkpIHsKICAgICAgICByZXR1cm4gcm91dGUucmVkaXJlY3Q7CiAgICAgIH0KICAgICAgcmV0dXJuIHJvdXRlLnBhdGg7CiAgICB9LAogICAganVtcFRvOiBmdW5jdGlvbiBqdW1wVG8ocm91dGUpIHsKICAgICAgaWYgKGlzRXh0ZXJuYWwocm91dGUucGF0aCkpIHsKICAgICAgICB3aW5kb3cub3Blbihyb3V0ZS5wYXRoLCAnX2JsYW5rJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnJlZGlyZWN0KSkgewogICAgICAgIHdpbmRvdy5vcGVuKHJvdXRlLnJlZGlyZWN0LCAnX2JsYW5rJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgucmVzb2x2ZShyb3V0ZS5wYXRoLCByb3V0ZS5yZWRpcmVjdCB8fCAnJykpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IAAAC;EAAA;EACAC;IACA;EACA;EACAC,0CACAC,YACA,qBACA,UACA;IACAC;MACA;MACA;QAAAC;MACA;QACA;MACA;MACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EAAA,EACA;EACAC;IACAC;MAAA;MAAA;MACA;MACA;QACAC;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;UACAC;QACA;QACA;UACAA;QACA;QACAD;MACA;MACA;IACA;IACAE;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACAC;QACA;MACA;MACA;QACAA;QACA;MACA;MACA;IACA;EACA;AACA","names":["components","Item","data","computed","mapGetters","activeMenu","matched","store","showLogo","variables","isCollapse","methods","getFirstShowingChild","showing","parent","resolvePath","jumpTo","window"],"sourceRoot":"src/layout/components/Sidebar","sources":["TopMenu.vue"],"sourcesContent":["<template>\r\n  <div class=\"top-menu-bar\">\r\n    <el-scrollbar>\r\n      <el-menu\r\n        :default-active=\"activeMenu\"\r\n        :background-color=\"variables.menuBg\"\r\n        :text-color=\"variables.menuText\"\r\n        :active-text-color=\"variables.menuActiveText\"\r\n        mode=\"horizontal\"\r\n      >\r\n        <template v-for=\"route in permission_routes\">\r\n          <template v-if=\"!route.hidden && getFirstShowingChild(route.children,route)\">\r\n            <el-menu-item v-if=\"route.meta\" :key=\"route.path\" :index=\"resolvePath(route)\" @click=\"jumpTo(route)\">\r\n              <item :icon=\"route.meta&&route.meta.icon\" :title=\"route.meta.title\" />\r\n            </el-menu-item>\r\n          </template>\r\n        </template>\r\n      </el-menu>\r\n    </el-scrollbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { mapGetters } from 'vuex'\r\nimport path from 'path'\r\nimport { isExternal } from '@/utils/validate'\r\nimport Item from './Item'\r\nimport variables from '@/styles/variables.scss'\r\n\r\nexport default {\r\n  components: { Item },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'permission_routes',\r\n      'sidebar'\r\n    ]),\r\n    activeMenu() {\r\n      const route = this.$route\r\n      const { meta, matched } = route\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      store.dispatch('permission/changeSecondRoutes', matched[0])\r\n      return matched[0].path || '/'\r\n    },\r\n    showLogo() {\r\n      return this.$store.state.settings.sidebarLogo\r\n    },\r\n    variables() {\r\n      return variables\r\n    },\r\n    isCollapse() {\r\n      return !this.sidebar.opened\r\n    }\r\n  },\r\n  methods: {\r\n    getFirstShowingChild(children = [], parent) {\r\n      let showing = true\r\n      if (parent.hidden || (typeof parent.path === 'undefined' && typeof parent.redirect === 'undefined')) {\r\n        showing = false\r\n      }\r\n      if (!children) {\r\n        return showing\r\n      }\r\n      const showingChildren = children.find(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (typeof showingChildren !== 'undefined') {\r\n        if (showingChildren.path && parent.alwaysShow && !parent.redirect) {\r\n          parent.redirect = showingChildren.path\r\n        }\r\n        if (typeof parent.meta === 'undefined' && typeof showingChildren.meta !== 'undefined') {\r\n          parent.meta = showingChildren.meta\r\n        }\r\n        showing = true\r\n      }\r\n      return showing\r\n    },\r\n    resolvePath(route) {\r\n      if (isExternal(route.path)) {\r\n        return route.path\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        return route.redirect\r\n      }\r\n      return route.path\r\n    },\r\n    jumpTo(route) {\r\n      if (isExternal(route.path)) {\r\n        window.open(route.path, '_blank')\r\n        return\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        window.open(route.redirect, '_blank')\r\n        return\r\n      }\r\n      this.$router.push(path.resolve(route.path, route.redirect || ''))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.top-menu-bar {\r\n  .el-menu--horizontal.el-menu {\r\n    display: flex;\r\n  }\r\n  .el-menu--horizontal>.el-menu-item {\r\n    height: 50px !important;\r\n    line-height: 50px !important;\r\n  }\r\n  .el-menu--horizontal>.el-submenu .el-submenu__title {\r\n    height: 50px !important;\r\n    line-height: 50px !important;\r\n  }\r\n  .svg-icon {\r\n    margin-right: 5px;\r\n  }\r\n  .el-scrollbar__bar.is-horizontal {\r\n    display: none;\r\n  }\r\n  ::v-deep .el-scrollbar__thumb {\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n    &:hover {\r\n      background-color: rgba(64,158,255,1);\r\n    }\r\n  }\r\n}\r\n.mobile {\r\n  .top-menu-bar {\r\n    ::v-deep .el-menu--horizontal>.el-menu-item {\r\n      padding: 0 10px;\r\n      display: inline-block;\r\n\r\n      .sub-el-icon {\r\n        display: none;\r\n      }\r\n\r\n      .svg-icon {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    ::v-deep .el-scrollbar__thumb {\r\n      display: none;\r\n      &:hover {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}