{"remainingRequest":"E:\\案例\\admin管理后台\\node_modules\\babel-loader\\lib\\index.js!E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\案例\\admin管理后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\案例\\admin管理后台\\src\\layout\\components\\Sidebar\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\案例\\admin管理后台\\src\\layout\\components\\Sidebar\\index.vue","mtime":1676374221489},{"path":"E:\\案例\\admin管理后台\\babel.config.js","mtime":1676374221456},{"path":"E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676374333431},{"path":"E:\\案例\\admin管理后台\\node_modules\\babel-loader\\lib\\index.js","mtime":1676374335168},{"path":"E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676374333431},{"path":"E:\\案例\\admin管理后台\\node_modules\\vue-loader\\lib\\index.js","mtime":1676374335765}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU2ODQ4XHU0RjhCL2FkbWluXHU3QkExXHU3NDA2XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnOwppbXBvcnQgeyBpc0V4dGVybmFsIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmltcG9ydCBTaWRlYmFySXRlbSBmcm9tICcuL1NpZGViYXJJdGVtJzsKaW1wb3J0IEl0ZW0gZnJvbSAnLi9JdGVtJzsKaW1wb3J0IF92YXJpYWJsZXMgZnJvbSAnQC9zdHlsZXMvdmFyaWFibGVzLnNjc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2lkZWJhckl0ZW06IFNpZGViYXJJdGVtLAogICAgSXRlbTogSXRlbQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3Blcm1pc3Npb25fcm91dGVzJywgJ3NlY29uZF9yb3V0ZXMnLCAndGhpcmRfcm91dGVzJywgJ3NpZGViYXInXSkpLCB7fSwgewogICAgY2xhc3NPYmo6IGZ1bmN0aW9uIGNsYXNzT2JqKCkgewogICAgICByZXR1cm4gewogICAgICAgIHN1Yk1lbnU6IHRoaXMudGhpcmRfcm91dGVzLmxlbmd0aCA+IDAKICAgICAgfTsKICAgIH0sCiAgICBhY3RpdmVNZW51OiBmdW5jdGlvbiBhY3RpdmVNZW51KCkgewogICAgICB2YXIgcm91dGUgPSB0aGlzLiRyb3V0ZTsKICAgICAgdmFyIG1ldGEgPSByb3V0ZS5tZXRhLAogICAgICAgIG1hdGNoZWQgPSByb3V0ZS5tYXRjaGVkOwogICAgICBpZiAobWV0YS5hY3RpdmVNZW51KSB7CiAgICAgICAgcmV0dXJuIG1ldGEuYWN0aXZlTWVudTsKICAgICAgfQogICAgICBzdG9yZS5kaXNwYXRjaCgncGVybWlzc2lvbi9jaGFuZ2VUaGlyZFJvdXRlcycsIG1hdGNoZWRbMV0gfHwgW10pOwogICAgICByZXR1cm4gbWF0Y2hlZFsxXS5wYXRoIHx8ICcnOwogICAgfSwKICAgIGFjdGl2ZVN1Yk1lbnU6IGZ1bmN0aW9uIGFjdGl2ZVN1Yk1lbnUoKSB7CiAgICAgIHZhciByb3V0ZSA9IHRoaXMuJHJvdXRlOwogICAgICB2YXIgbWV0YSA9IHJvdXRlLm1ldGEsCiAgICAgICAgcGF0aCA9IHJvdXRlLnBhdGg7CiAgICAgIC8vIGlmIHNldCBwYXRoLCB0aGUgc2lkZWJhciB3aWxsIGhpZ2hsaWdodCB0aGUgcGF0aCB5b3Ugc2V0CiAgICAgIGlmIChtZXRhLmFjdGl2ZU1lbnUpIHsKICAgICAgICByZXR1cm4gbWV0YS5hY3RpdmVNZW51OwogICAgICB9CiAgICAgIHJldHVybiBwYXRoOwogICAgfSwKICAgIHNob3dMb2dvOiBmdW5jdGlvbiBzaG93TG9nbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnNpZGViYXJMb2dvOwogICAgfSwKICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICByZXR1cm4gX3ZhcmlhYmxlczsKICAgIH0sCiAgICBpc0NvbGxhcHNlOiBmdW5jdGlvbiBpc0NvbGxhcHNlKCkgewogICAgICByZXR1cm4gIXRoaXMuc2lkZWJhci5vcGVuZWQ7CiAgICB9LAogICAgZGV2aWNlOiBmdW5jdGlvbiBkZXZpY2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAuZGV2aWNlOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGdldEZpcnN0U2hvd2luZ0NoaWxkOiBmdW5jdGlvbiBnZXRGaXJzdFNob3dpbmdDaGlsZCgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgc2hvd2luZyA9IHRydWU7CiAgICAgIGlmIChwYXJlbnQuaGlkZGVuIHx8IHR5cGVvZiBwYXJlbnQucGF0aCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBhcmVudC5yZWRpcmVjdCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBzaG93aW5nID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCFjaGlsZHJlbikgewogICAgICAgIHJldHVybiBzaG93aW5nOwogICAgICB9CiAgICAgIHZhciBzaG93aW5nQ2hpbGRyZW4gPSBjaGlsZHJlbi5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFpdGVtLmhpZGRlbiAmJiBpdGVtLnBhdGg7CiAgICAgIH0pOwogICAgICBpZiAodHlwZW9mIHNob3dpbmdDaGlsZHJlbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLnBhdGggJiYgcGFyZW50LmFsd2F5c1Nob3cgJiYgIXBhcmVudC5yZWRpcmVjdCkgewogICAgICAgICAgcGFyZW50LnJlZGlyZWN0ID0gc2hvd2luZ0NoaWxkcmVuLnBhdGg7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlb2YgcGFyZW50Lm1ldGEgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzaG93aW5nQ2hpbGRyZW4ubWV0YSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHBhcmVudC5tZXRhID0gc2hvd2luZ0NoaWxkcmVuLm1ldGE7CiAgICAgICAgfQogICAgICAgIHNob3dpbmcgPSB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBzaG93aW5nOwogICAgfSwKICAgIHJlc29sdmVQYXRoOiBmdW5jdGlvbiByZXNvbHZlUGF0aChyb3V0ZSkgewogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5wYXRoKSkgewogICAgICAgIHJldHVybiByb3V0ZS5wYXRoOwogICAgICB9CiAgICAgIGlmIChpc0V4dGVybmFsKHJvdXRlLnJlZGlyZWN0KSkgewogICAgICAgIHJldHVybiByb3V0ZS5yZWRpcmVjdDsKICAgICAgfQogICAgICByZXR1cm4gcm91dGUucGF0aDsKICAgIH0sCiAgICBqdW1wVG86IGZ1bmN0aW9uIGp1bXBUbyhyb3V0ZSkgewogICAgICBpZiAoaXNFeHRlcm5hbChyb3V0ZS5wYXRoKSkgewogICAgICAgIHdpbmRvdy5vcGVuKHJvdXRlLnBhdGgsICdfYmxhbmsnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGlzRXh0ZXJuYWwocm91dGUucmVkaXJlY3QpKSB7CiAgICAgICAgd2luZG93Lm9wZW4ocm91dGUucmVkaXJlY3QsICdfYmxhbmsnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDIgJiYgdGhpcy5kZXZpY2UgPT09ICdtb2JpbGUnKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Blcm1pc3Npb24vY2hhbmdlVGhpcmRSb3V0ZXMnLCByb3V0ZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgucmVzb2x2ZShyb3V0ZS5wYXRoLCByb3V0ZS5yZWRpcmVjdCB8fCAnJykpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IAAAC;IAAAC;EAAA;EACAC,0CACAC,YACA,qBACA,iBACA,gBACA,UACA;IACAC;MACA;QACAC;MACA;IACA;IACAC;MACA;MACA;QAAAC;MACA;QACA;MACA;MACAC;MACA;IACA;IACAC;MACA;MACA;QAAAC;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EAAA,EACA;EACAC;IACAC;MAAA;MAAA;MACA;MACA;QACAC;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;UACAC;QACA;QACA;UACAA;QACA;QACAD;MACA;MACA;IACA;IACAE;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACAC;QACA;MACA;MACA;QACAA;QACA;MACA;MACA;QACAb;QACA;MACA;MACA;IACA;EACA;AACA","names":["components","SidebarItem","Item","computed","mapGetters","classObj","subMenu","activeMenu","matched","store","activeSubMenu","path","showLogo","variables","isCollapse","device","methods","getFirstShowingChild","showing","parent","resolvePath","jumpTo","window"],"sourceRoot":"src/layout/components/Sidebar","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"second_routes.length > 0\">\r\n    <div class=\"sidebar-container\">\r\n      <el-scrollbar wrap-class=\"scrollbar-wrapper\">\r\n        <el-menu\r\n          :default-active=\"activeMenu\"\r\n          :background-color=\"variables.menuBg\"\r\n          :text-color=\"variables.menuText\"\r\n          :active-text-color=\"variables.menuActiveText\"\r\n          :collapse=\"isCollapse\"\r\n          :collapse-transition=\"false\"\r\n          mode=\"vertical\"\r\n        >\r\n          <template v-if=\"isCollapse\">\r\n            <el-menu\r\n              :default-active=\"activeMenu\"\r\n              :collapse=\"isCollapse\"\r\n              :background-color=\"variables.menuBg\"\r\n              :text-color=\"variables.menuText\"\r\n              :unique-opened=\"false\"\r\n              :active-text-color=\"variables.menuActiveText\"\r\n              :collapse-transition=\"false\"\r\n              mode=\"vertical\"\r\n            >\r\n              <sidebar-item v-for=\"route in second_routes\" :key=\"route.path\" :item=\"route\" :base-path=\"route.path\" />\r\n            </el-menu>\r\n          </template>\r\n          <template v-else>\r\n            <template v-for=\"route in second_routes\">\r\n              <template v-if=\"!route.hidden && getFirstShowingChild(route.children,route)\">\r\n                <el-menu-item v-if=\"route.meta\" :key=\"route.path\" :index=\"resolvePath(route)\" @click=\"jumpTo(route)\">\r\n                  <item :icon=\"route.meta&&route.meta.icon\" :title=\"route.meta.title\" />\r\n                </el-menu-item>\r\n              </template>\r\n            </template>\r\n          </template>\r\n        </el-menu>\r\n      </el-scrollbar>\r\n    </div>\r\n    <div v-if=\"third_routes.length > 0 && !isCollapse\" class=\"sub-sidebar-container\">\r\n      <el-scrollbar wrap-class=\"scrollbar-wrapper\">\r\n        <el-menu\r\n          :default-active=\"activeSubMenu\"\r\n          :collapse=\"isCollapse\"\r\n          :unique-opened=\"false\"\r\n          :collapse-transition=\"false\"\r\n          mode=\"vertical\"\r\n        >\r\n          <sidebar-item v-for=\"route in third_routes\" :key=\"route.path\" :item=\"route\" :base-path=\"route.path\" :is-nest=\"true\" />\r\n        </el-menu>\r\n      </el-scrollbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { mapGetters } from 'vuex'\r\nimport path from 'path'\r\nimport { isExternal } from '@/utils/validate'\r\nimport SidebarItem from './SidebarItem'\r\nimport Item from './Item'\r\nimport variables from '@/styles/variables.scss'\r\n\r\nexport default {\r\n  components: { SidebarItem, Item },\r\n  computed: {\r\n    ...mapGetters([\r\n      'permission_routes',\r\n      'second_routes',\r\n      'third_routes',\r\n      'sidebar'\r\n    ]),\r\n    classObj() {\r\n      return {\r\n        subMenu: this.third_routes.length > 0\r\n      }\r\n    },\r\n    activeMenu() {\r\n      const route = this.$route\r\n      const { meta, matched } = route\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      store.dispatch('permission/changeThirdRoutes', matched[1] || [])\r\n      return matched[1].path || ''\r\n    },\r\n    activeSubMenu() {\r\n      const route = this.$route\r\n      const { meta, path } = route\r\n      // if set path, the sidebar will highlight the path you set\r\n      if (meta.activeMenu) {\r\n        return meta.activeMenu\r\n      }\r\n      return path\r\n    },\r\n    showLogo() {\r\n      return this.$store.state.settings.sidebarLogo\r\n    },\r\n    variables() {\r\n      return variables\r\n    },\r\n    isCollapse() {\r\n      return !this.sidebar.opened\r\n    },\r\n    device() {\r\n      return this.$store.state.app.device\r\n    }\r\n  },\r\n  methods: {\r\n    getFirstShowingChild(children = [], parent) {\r\n      let showing = true\r\n      if (parent.hidden || (typeof parent.path === 'undefined' && typeof parent.redirect === 'undefined')) {\r\n        showing = false\r\n      }\r\n      if (!children) {\r\n        return showing\r\n      }\r\n      const showingChildren = children.find(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (typeof showingChildren !== 'undefined') {\r\n        if (showingChildren.path && parent.alwaysShow && !parent.redirect) {\r\n          parent.redirect = showingChildren.path\r\n        }\r\n        if (typeof parent.meta === 'undefined' && typeof showingChildren.meta !== 'undefined') {\r\n          parent.meta = showingChildren.meta\r\n        }\r\n        showing = true\r\n      }\r\n      return showing\r\n    },\r\n    resolvePath(route) {\r\n      if (isExternal(route.path)) {\r\n        return route.path\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        return route.redirect\r\n      }\r\n      return route.path\r\n    },\r\n    jumpTo(route) {\r\n      if (isExternal(route.path)) {\r\n        window.open(route.path, '_blank')\r\n        return\r\n      }\r\n      if (isExternal(route.redirect)) {\r\n        window.open(route.redirect, '_blank')\r\n        return\r\n      }\r\n      if (route.children && route.children.length > 2 && this.device === 'mobile') {\r\n        store.dispatch('permission/changeThirdRoutes', route)\r\n        return\r\n      }\r\n      this.$router.push(path.resolve(route.path, route.redirect || ''))\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}