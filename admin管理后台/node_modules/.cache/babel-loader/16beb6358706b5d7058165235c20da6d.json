{"remainingRequest":"E:\\案例\\admin管理后台\\node_modules\\babel-loader\\lib\\index.js!E:\\案例\\admin管理后台\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\案例\\admin管理后台\\src\\store\\modules\\permission.js","dependencies":[{"path":"E:\\案例\\admin管理后台\\src\\store\\modules\\permission.js","mtime":1676374221497},{"path":"E:\\案例\\admin管理后台\\babel.config.js","mtime":1676374221456},{"path":"E:\\案例\\admin管理后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676374333431},{"path":"E:\\案例\\admin管理后台\\node_modules\\babel-loader\\lib\\index.js","mtime":1676374335168},{"path":"E:\\案例\\admin管理后台\\node_modules\\eslint-loader\\index.js","mtime":1676374333812}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU2ODQ4XHU0RjhCL2FkbWluXHU3QkExXHU3NDA2XHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgY29uc3RhbnRSb3V0ZXMgfSBmcm9tICdAL3JvdXRlcic7CmltcG9ydCB7IGdldHJvdXRlcyB9IGZyb20gJ0AvYXBpL3Blcm1pc3Npb24nOwppbXBvcnQgTGF5b3V0IGZyb20gJ0AvbGF5b3V0JzsKCi8qKg0KICog5b6q546v55Sf5oiQ5byC5q2l6Lev55SxDQogKiBAQXV0aG9yICAgSGFydmV5Q2hlbmcNCiAqIEBEYXRlVGltZSAyMDE4LTEwLTA5DQogKiBAcGFyYW0gICAge1t0eXBlXX0gICAgcm91dGVzIFtkZXNjcmlwdGlvbl0NCiAqIEByZXR1cm4gICB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXQ0KICovCmZ1bmN0aW9uIGxvb3BDcmVhdGVSb3V0ZXIocm91dGVzKSB7CiAgdmFyIHJlcyA9IFtdOwogIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgdmFyIHRtcCA9IF9vYmplY3RTcHJlYWQoe30sIHJvdXRlKTsKICAgIHZhciB0cGwgPSBPYmplY3QuYXNzaWduKHt9LCB0bXApOwogICAgaWYgKHR5cGVvZiB0bXBbJ2NvbXBvbmVudCddICE9PSAndW5kZWZpbmVkJyAmJiB0bXBbJ2NvbXBvbmVudCddKSB7CiAgICAgIGlmICh0bXBbJ2NvbXBvbmVudCddID09PSAnTGF5b3V0JykgewogICAgICAgIHRwbFsnY29tcG9uZW50J10gPSBMYXlvdXQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHBsWydjb21wb25lbnQnXSA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICByZXR1cm4gcmVxdWlyZShbIi4uLy4uLyIuY29uY2F0KHRtcFsnY29tcG9uZW50J10sICIudnVlIildLCByZXNvbHZlKTsKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgICBpZiAodG1wWydjaGlsZHJlbiddKSB7CiAgICAgIHRwbFsnY2hpbGRyZW4nXSA9IGxvb3BDcmVhdGVSb3V0ZXIodG1wWydjaGlsZHJlbiddKTsKICAgIH0KICAgIHJlcy5wdXNoKHRwbCk7CiAgfSk7CiAgcmV0dXJuIHJlczsKfQp2YXIgc3RhdGUgPSB7CiAgcm91dGVzOiBbXSwKICBzZWNvbmRfcm91dGVzOiBbXSwKICB0aGlyZF9yb3V0ZXM6IFtdCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX1JPVVRFUzogZnVuY3Rpb24gU0VUX1JPVVRFUyhzdGF0ZSwgcm91dGVzKSB7CiAgICBzdGF0ZS5yb3V0ZXMgPSByb3V0ZXM7CiAgfSwKICBTRVRfU0VDT05EX1JPVVRFUzogZnVuY3Rpb24gU0VUX1NFQ09ORF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUuc2Vjb25kX3JvdXRlcyA9IHJvdXRlczsKICB9LAogIFNFVF9USElSRF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9USElSRF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUudGhpcmRfcm91dGVzID0gcm91dGVzOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZ2VuZXJhdGVSb3V0ZXM6IGZ1bmN0aW9uIGdlbmVyYXRlUm91dGVzKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGdldHJvdXRlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHZhciBhc3luY1JvdXRlck1hcCA9IGRhdGEubGlzdDsKICAgICAgICB2YXIgYWNjZXNzZWRSb3V0ZXMgPSBsb29wQ3JlYXRlUm91dGVyKGFzeW5jUm91dGVyTWFwKTsKICAgICAgICBhY2Nlc3NlZFJvdXRlcy5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcqJywKICAgICAgICAgIHJlZGlyZWN0OiAnLzQwNCcsCiAgICAgICAgICBoaWRkZW46IHRydWUKICAgICAgICB9KTsKICAgICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCBjb25zdGFudFJvdXRlcy5jb25jYXQoYWNjZXNzZWRSb3V0ZXMpKTsKICAgICAgICByZXNvbHZlKGFjY2Vzc2VkUm91dGVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGNoYW5nZVNlY29uZFJvdXRlczogZnVuY3Rpb24gY2hhbmdlU2Vjb25kUm91dGVzKF9yZWYyLCBkYXRhKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlOwogICAgY29tbWl0KCdTRVRfU0VDT05EX1JPVVRFUycsIFtdKTsKICAgIHZhciBzZWNvbmRfcm91dGVzID0gc3RhdGUucm91dGVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuICFpdGVtLmhpZGRlbiAmJiAoaXRlbS5wYXRoID09PSBkYXRhLnBhdGggfHwgZGF0YS5wYXRoID09PSAnJyAmJiBpdGVtLnBhdGggPT09ICcvJyk7CiAgICB9KTsKICAgIGlmICh0eXBlb2Ygc2Vjb25kX3JvdXRlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgc2Vjb25kX3JvdXRlcy5jaGlsZHJlbikgewogICAgICB2YXIgcmVzID0gc2Vjb25kX3JvdXRlcy5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIWl0ZW0uaGlkZGVuICYmIGl0ZW0ucGF0aDsKICAgICAgfSk7CiAgICAgIGlmIChyZXMubGVuZ3RoID4gMSkgewogICAgICAgIGNvbW1pdCgnU0VUX1NFQ09ORF9ST1VURVMnLCByZXMpOwogICAgICB9CiAgICB9CiAgfSwKICBjaGFuZ2VUaGlyZFJvdXRlczogZnVuY3Rpb24gY2hhbmdlVGhpcmRSb3V0ZXMoX3JlZjMsIGRhdGEpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICBjb21taXQoJ1NFVF9USElSRF9ST1VURVMnLCBbXSk7CiAgICB2YXIgdGhpcmRfcm91dGVzID0gc3RhdGUuc2Vjb25kX3JvdXRlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAhaXRlbS5oaWRkZW4gJiYgKGl0ZW0ucGF0aCA9PT0gZGF0YS5wYXRoIHx8IGRhdGEucGF0aCA9PT0gJycgJiYgaXRlbS5wYXRoID09PSAnLycpOwogICAgfSk7CiAgICBpZiAodHlwZW9mIHRoaXJkX3JvdXRlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcmRfcm91dGVzLmNoaWxkcmVuKSB7CiAgICAgIHZhciByZXMgPSB0aGlyZF9yb3V0ZXMuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICFpdGVtLmhpZGRlbiAmJiBpdGVtLnBhdGg7CiAgICAgIH0pOwogICAgICBpZiAocmVzLmxlbmd0aCA+IDEpIHsKICAgICAgICBjb21taXQoJ1NFVF9USElSRF9ST1VURVMnLCByZXMpOwogICAgICB9CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"names":["constantRoutes","getroutes","Layout","loopCreateRouter","routes","res","forEach","route","tmp","tpl","Object","assign","resolve","require","push","state","second_routes","third_routes","mutations","SET_ROUTES","SET_SECOND_ROUTES","SET_THIRD_ROUTES","actions","generateRoutes","commit","Promise","reject","then","response","data","asyncRouterMap","list","accessedRoutes","path","redirect","hidden","concat","catch","error","changeSecondRoutes","find","item","children","filter","length","changeThirdRoutes","namespaced"],"sources":["E:/案例/admin管理后台/src/store/modules/permission.js"],"sourcesContent":["import { constantRoutes } from '@/router'\r\nimport { getroutes } from '@/api/permission'\r\nimport Layout from '@/layout'\r\n\r\n/**\r\n * 循环生成异步路由\r\n * @Author   HarveyCheng\r\n * @DateTime 2018-10-09\r\n * @param    {[type]}    routes [description]\r\n * @return   {[type]}           [description]\r\n */\r\nfunction loopCreateRouter(routes) {\r\n  const res = []\r\n  routes.forEach(route => {\r\n    const tmp = { ...route }\r\n    const tpl = Object.assign({}, tmp)\r\n    if (typeof tmp['component'] !== 'undefined' && tmp['component']) {\r\n      if (tmp['component'] === 'Layout') {\r\n        tpl['component'] = Layout\r\n      } else {\r\n        tpl['component'] = resolve => require([`../../${tmp['component']}.vue`], resolve)\r\n      }\r\n    }\r\n    if (tmp['children']) {\r\n      tpl['children'] = loopCreateRouter(tmp['children'])\r\n    }\r\n    res.push(tpl)\r\n  })\r\n  return res\r\n}\r\n\r\nconst state = {\r\n  routes: [],\r\n  second_routes: [],\r\n  third_routes: []\r\n}\r\n\r\nconst mutations = {\r\n  SET_ROUTES: (state, routes) => {\r\n    state.routes = routes\r\n  },\r\n  SET_SECOND_ROUTES: (state, routes) => {\r\n    state.second_routes = routes\r\n  },\r\n  SET_THIRD_ROUTES: (state, routes) => {\r\n    state.third_routes = routes\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  generateRoutes({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      getroutes().then(response => {\r\n        const { data } = response\r\n        const asyncRouterMap = data.list\r\n        const accessedRoutes = loopCreateRouter(asyncRouterMap)\r\n        accessedRoutes.push({ path: '*', redirect: '/404', hidden: true })\r\n        commit('SET_ROUTES', constantRoutes.concat(accessedRoutes))\r\n        resolve(accessedRoutes)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n  changeSecondRoutes({ commit, state }, data) {\r\n    commit('SET_SECOND_ROUTES', [])\r\n    const second_routes = state.routes.find(item => {\r\n      return !item.hidden && (item.path === data.path || (data.path === '' && item.path === '/'))\r\n    })\r\n    if (typeof second_routes !== 'undefined' && second_routes.children) {\r\n      const res = second_routes.children.filter(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (res.length > 1) {\r\n        commit('SET_SECOND_ROUTES', res)\r\n      }\r\n    }\r\n  },\r\n  changeThirdRoutes({ commit, state }, data) {\r\n    commit('SET_THIRD_ROUTES', [])\r\n    const third_routes = state.second_routes.find(item => {\r\n      return !item.hidden && (item.path === data.path || (data.path === '' && item.path === '/'))\r\n    })\r\n    if (typeof third_routes !== 'undefined' && third_routes.children) {\r\n      const res = third_routes.children.filter(item => {\r\n        return !item.hidden && item.path\r\n      })\r\n      if (res.length > 1) {\r\n        commit('SET_THIRD_ROUTES', res)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n"],"mappings":"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"}]}